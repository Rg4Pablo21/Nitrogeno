:root{
  --bg:#0e1b2a;
  --card:#14263c;
  --accent:#48e0a4;
  --accent-2:#4ED4F5;
  --text:#e9f1fa;
  --danger:#ff6b6b;
  --ok:#90ee90;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  background: radial-gradient(1200px 700px at 20% 0%, #143352 0%, var(--bg) 60%);
  color:var(--text);
}

#app{min-height:100dvh; display:flex; flex-direction:column}

.hud{
  display:grid; grid-template-columns: repeat(4, max-content);
  gap:1rem; align-items:center; justify-content:center;
  padding:1rem; background:#0d1a29cc; backdrop-filter: blur(4px);
  border-bottom:1px solid #1e3858;
}
.hud-item{display:flex; gap:.5rem; align-items:center}

.scene{
  flex:1; display:grid; place-items:center; padding:1rem;
  position:relative; overflow:hidden;
}

.nito{
  position:absolute; top:15%; left:10%;
  font-size:3.2rem; filter: drop-shadow(0 10px 12px rgba(0,0,0,.3));
  animation: float 3s ease-in-out infinite;
}
@keyframes float{
  0%,100%{ transform: translateY(0) }
  50%{ transform: translateY(-8px) }
}

.panel{
  width:min(900px, 95vw);
  background: linear-gradient(180deg, #18324f 0%, var(--card) 60%);
  border:1px solid #224565;
  border-radius:18px; padding:1.2rem 1.4rem;
  box-shadow: var(--shadow);
}

#title{margin:.2rem 0 .2rem; font-size:1.6rem}
#story{margin:0 0 1rem; opacity:.9}

.question-box{
  background: #0f2236; border:1px solid #1e3f5b; border-radius:14px;
  padding:1rem; position:relative;
}

.badge{
  position:absolute; top:-12px; right:14px;
  background:linear-gradient(90deg, var(--accent), var(--accent-2));
  color:#083; color:#082b2b;
  border-radius:999px; padding:.25rem .75rem; font-weight:700; font-size:.85rem;
  border:1px solid #81ffe6;
}

.options{ display:grid; gap:.75rem; margin-top:.9rem }
@media (min-width:700px){
  .options{grid-template-columns: 1fr 1fr}
}

.btn{
  appearance:none; border:none; cursor:pointer;
  background:#243f5f; color:var(--text);
  padding:.75rem 1rem; border-radius:12px; font-weight:700;
  transition:transform .06s ease, box-shadow .2s ease, background .2s ease, opacity .2s ease;
  box-shadow: 0 4px 0 #0c1d2e;
}
.btn:active{ transform: translateY(1px)}
.btn.primary{ background: linear-gradient(90deg, var(--accent), var(--accent-2)); color:#072b2b; box-shadow: 0 4px 0 #0a6e79}
.btn.ghost{ background: transparent; border:1px solid #335a82 }

.controls{ display:flex; gap:.6rem; margin-top:1rem; flex-wrap:wrap }

.option{
  display:flex; gap:.75rem; align-items:center; justify-content:flex-start;
  padding:.8rem; border-radius:12px; border:1px solid #2c5177; background:#163252; cursor:pointer;
  box-shadow: 0 6px 16px rgba(0,0,0,.2);
  position:relative;
}
.option:hover{ outline:2px solid #3aa7ff44 }
.option.correct{ background: #0d3a29; border-color:#1eaa76 }
.option.wrong{ background: #3a0d16; border-color:#c0445a }

.option .emoji{font-size:1.4rem}
.option .txt{flex:1}

.footer{ text-align:center; padding:1rem; opacity:.8 }

.toast{
  position: fixed; left:50%; bottom:18px; transform: translateX(-50%) translateY(30px);
  background:#0d1a29; color:var(--text); border:1px solid #2a4a6b;
  padding:.6rem .9rem; border-radius:10px; box-shadow: var(--shadow);
  opacity:0; pointer-events:none; transition: all .25s ease;
}
.toast.show{ opacity:1; transform: translateX(-50%) translateY(0) }

dialog{
  width:min(700px, 92vw); border:none; background:#0f2236; color:var(--text);
  border-radius:16px; padding:1rem 1.2rem; border:1px solid #2a4a6b;
}
dialog::backdrop{ background: rgba(0,0,0,.45) }
.help-list{ line-height:1.6 }